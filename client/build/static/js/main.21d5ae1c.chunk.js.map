{"version":3,"sources":["components/Footer/Footer.jsx","services/config.js","services/product-service.js","pages/Home.jsx","components/Error.jsx","contexts/AuthContext.js","services/auth-service.js","pages/Login.jsx","pages/Register/validator.js","pages/Register/Register.jsx","pages/Error.jsx","pages/AddProduct/validator.js","pages/AddProduct/AddProduct.jsx","components/Navbar/Navbar.jsx","App.jsx","index.js"],"names":["Footer","className","BASE_URL","config","userId","Cookie","get","token","axios","defaults","headers","laptopService","load","a","res","status","products","data","likedProducts","like","productId","post","response","delete","add","name","description","url","Home","props","useState","setProducts","setLikedProducts","isLiked","setIsLiked","isLoading","setIsLoading","useEffect","productService","then","obj","event","target","getAttribute","Cookies","allProducts","forEach","p","_id","likes","increaseLikes","history","push","deleteProduct","product","catch","err","tokenIsOutDated","CircularProgress","length","to","map","key","src","alt","likeBtnClass","includes","onClick","productid","ToggleLikeIconColor","author","Error","error","AuthContext","createContext","AuthContextProvider","state","isAuthenticated","logout","setState","login","Provider","value","this","children","Component","authService","email","password","set","expires","username","register","Login","useContext","setError","inputs","setInputs","handleChange","persist","onSubmit","preventDefault","InputLabel","htmlFor","Input","id","type","onChange","Button","variant","color","validateForm","Register","validationMessage","validator","startsWith","AddProduct","Navbar","App","exact","path","component","ReactDOM","render","document","getElementById"],"mappings":"yTAqBeA,MAlBf,WACI,OACI,4BAAQC,UAAU,eACd,yBAAKA,UAAU,aACX,sCACA,wBAAIA,UAAU,eAAd,oEAEJ,yBAAKA,UAAU,cACX,wCACA,0BAAMA,UAAU,kBAAhB,SACA,0BAAMA,UAAU,kBAAhB,QACA,wBAAIA,UAAU,gBAAd,sBACA,iD,yCCfD,EACC,sCCEVC,EAAWC,EAEXC,EAASC,IAAOC,IAAI,UACpBC,EAAQF,IAAOC,IAAI,SAEzBE,IAAMC,SAASC,QAAU,CACrB,eAAgB,mBAChB,MAASH,EACT,OAAUH,GAGd,IA6CeO,EA7CO,CAClBC,KAAK,WAAD,4BAAE,4BAAAC,EAAA,sEACgBL,IAAMF,IAAIJ,EAAW,gBADrC,UAGgB,OAFZY,EADJ,QAGKC,OAHL,yCAIS,CACHC,SAAUF,EAAIG,KAAKD,SACnBE,cAAeJ,EAAIG,KAAKC,gBAN9B,gCASK,MATL,2CAAF,kDAAC,GAWLC,KAAK,WAAD,4BAAE,WAAMC,GAAN,eAAAP,EAAA,+EAGcL,IAAMa,KAAKnB,EAAW,iBAAmBkB,GAHvD,OAGEN,EAHF,+EAMS,KAAIQ,SAASP,QANtB,gCAQKD,EAAIC,QART,yDAAF,mDAAC,GAULQ,OAAO,WAAD,4BAAE,WAAMH,GAAN,eAAAP,EAAA,+EAGYL,IAAMa,KAAKnB,EAAW,mBAAqBkB,GAHvD,OAGAN,EAHA,+EAMO,KAAIQ,SAASP,QANpB,gCAQGD,EAAIC,QARP,yDAAF,mDAAC,GAUPS,IAAI,WAAD,4BAAE,WAAMC,EAAMC,EAAaC,GAAzB,eAAAd,EAAA,+EAGeL,IAAMa,KAAKnB,EAAW,eAC9B,CAAEuB,OAAME,MAAKD,gBAJpB,OAGGZ,EAHH,+EAOU,KAAIQ,UAPd,gCASMR,EAAIC,QATV,yDAAF,uDAAC,ICuFOa,EA7HF,SAACC,GAAW,IAAD,EACUC,mBAAS,IADnB,mBACfd,EADe,KACLe,EADK,OAEoBD,mBAAS,IAF7B,mBAEfZ,EAFe,KAEAc,EAFA,OAGQF,oBAAS,GAHjB,mBAGfG,EAHe,KAGNC,EAHM,OAIYJ,oBAAS,GAJrB,mBAIfK,EAJe,KAIJC,EAJI,KAMtBC,qBAAU,WACRC,EAAe1B,OACZ2B,MAAK,SAACC,GACL,IAAMxB,EAAWwB,EAAIxB,SACfE,EAAgBsB,EAAItB,cAE1Ba,EAAYf,GACZgB,EAAiBd,GACjBkB,GAAa,QAEhB,IAEH,IAUMjB,EAAO,SAACsB,GACZ,IAAMrB,EAAYqB,EAAMC,OAAOC,aAAa,aAExCC,IAAQtC,IAAI,WAbI,SAACc,GACrB,IAAIyB,EAAc7B,EAClB6B,EAAYC,SAAQ,SAAAC,GACfA,EAAEC,MAAQ5B,GACX2B,EAAEE,WAGNlB,EAAYc,GAWZK,CAAc9B,GAEdkB,EAAenB,KAAKC,GACjBmB,MAAK,WACJL,GAAW,OARbL,EAAMsB,QAAQC,KAAK,WAYjBC,EAAgB,SAACZ,GACrB,IAAMrB,EAAYqB,EAAMC,OAAOC,aAAa,aAE5CL,EAAef,OAAOH,GACnBmB,MAAK,WACJ,IAAMM,EAAc,GACpB7B,EAAS8B,SAAQ,SAACQ,GACbA,EAAQN,MAAQ5B,GACjByB,EAAYO,KAAKE,MAGrBvB,EAAYc,MAEbU,OAAM,SAAAC,GACFA,EAAIC,iBACL5B,EAAMsB,QAAQC,KAAK,cAkB3B,OAAGjB,EAEC,0BAAMlC,UAAU,kBACd,kBAACyD,EAAA,EAAD,CAAkBzD,UAAU,YAGzBe,EAAS2C,OAEd,yBAAK1D,UAAU,aAEX2C,IAAQtC,IAAI,SACV,kBAAC,IAAD,CAAMsD,GAAG,eAAe3D,UAAU,YAAW,0BAAMA,UAAU,kBAAhB,YAC7C,KAEJ,0BAAMA,UAAU,kBACbe,EAAS6C,KAAI,SAAAP,GAAO,OACnB,yBAAKrD,UAAU,eAAe6D,IAAKR,EAAQN,KACzC,yBAAKe,IAAKT,EAAQ3B,IAAKqC,IAAKV,EAAQ7B,OACpC,wBAAIxB,UAAU,SAASqD,EAAQ7B,MAC/B,uBAAGxB,UAAU,eAAeqD,EAAQ5B,aACpC,yBAAKzB,UAAU,WACb,0BAAMA,UAAU,eAAhB,UAAsCqD,EAAQL,OAlChC,SAAC7B,GAC3B,IAAI6C,EAAe,2BASnB,OARG/C,EAAcgD,SAAS9C,KACxB6C,EAAe,6BAEdhC,IAEDC,GAAW,GACX+B,EAAe,6BAEV,uBAAGhE,UAAWgE,EAAcE,QAAShD,EAAMiD,UAAWhD,GAAtD,YA0BOiD,CAAoBf,EAAQN,KAE7BM,EAAQgB,SAAW1B,IAAQtC,IAAI,UAAY,uBAAGL,UAAU,6BAA6BkE,QAASd,EAAee,UAAWd,EAAQN,KAArF,UAAuG,UAIzJ,8BAEF,kBAAC,EAAD,OAKF,yBAAK/C,UAAU,aAEX2C,IAAQtC,IAAI,SACV,kBAAC,IAAD,CAAMsD,GAAG,eAAe3D,UAAU,YAAW,0BAAMA,UAAU,kBAAhB,YAC7C,KAEJ,wBAAIA,UAAU,gBAAd,gBAA8C,+B,mCCpHvCsE,MATf,SAAe1C,GACX,OACI,6BACI,wBAAI5B,UAAU,iBAAiB4B,EAAM2C,OACrC,+B,imBCJL,IAAMC,EAAcC,0BAwBZC,E,2MArBXC,MAAQ,CACJC,iBAAiB,G,EAGrBC,OAAS,WACL,EAAKC,SAAS,CAAEF,iBAAiB,K,EAGrCG,MAAQ,WACJ,EAAKD,SAAS,CAAEF,iBAAiB,K,wEAIjC,OACI,kBAACJ,EAAYQ,SAAb,CAAsBC,MAAK,KAAMC,KAAKP,MAAX,CAAkBE,OAAQK,KAAKL,OAAQE,MAAOG,KAAKH,SACzEG,KAAKtD,MAAMuD,c,GAhBMC,aCD5BnF,EAAWC,EAEXC,EAASC,IAAOC,IAAI,UACpBC,EAAQF,IAAOC,IAAI,SAEzBE,IAAMC,SAASC,QAAU,CACrB,eAAgB,mBAChB,MAASH,EACT,OAAUH,GAGd,IAoCekF,EApCK,CAChBN,MAAM,WAAD,4BAAE,WAAMO,EAAOC,GAAb,eAAA3E,EAAA,+EAGaL,IAAMa,KAAKnB,EAAW,cAAe,CAAEqF,QAAOC,aAH3D,OAGC1E,EAHD,+EAMQ,KAAIQ,SAASP,QANrB,cASe,MAAfD,EAAIC,SACHV,IAAOoF,IAAI,QAAS3E,EAAIG,KAAKV,MAAO,CAAEmF,QAAS,MAC/CrF,IAAOoF,IAAI,WAAY3E,EAAIG,KAAK0E,UAChCtF,IAAOoF,IAAI,SAAU3E,EAAIG,KAAKb,SAZ/B,kBAeIU,EAAIC,QAfR,yDAAF,qDAAC,GAiBN+D,OAAQ,WACJzE,IAAOoF,IAAI,QAAS,IACpBpF,IAAOoF,IAAI,WAAY,IACvBpF,IAAOoF,IAAI,SAAU,KAEzBG,SAAS,WAAD,4BAAE,WAAML,EAAOI,EAAUH,GAAvB,eAAA3E,EAAA,+EAGUL,IAAMa,KAAKnB,EAAW,cAAe,CAAEqF,QAAOI,WAAUH,aAHlE,OAGF1E,EAHE,+EAMK,KAAIQ,SAASP,QANlB,gCASCD,EAAIC,QATL,yDAAF,uDAAC,I,8NC9Bb,IAwEe8E,EAxED,SAAChE,GAAW,IAChBmD,EAAUc,qBAAWrB,GAArBO,MADe,EAEGlD,mBAAS,IAFZ,mBAEhB0C,EAFgB,KAETuB,EAFS,OAGKjE,mBAAS,IAHd,mBAGhBkE,EAHgB,KAGRC,EAHQ,KAajBC,EAAe,SAACzD,GACpBA,EAAM0D,UACNF,GAAU,SAAAD,GAAM,O,yVAAA,IAASA,EAAT,eAAkBvD,EAAMC,OAAOjB,KAAOgB,EAAMC,OAAOwC,YA4BrE,OACE,yBAAKjF,UAAU,mBACb,wBAAIA,UAAU,eAAd,SACA,kBAAC,EAAD,CAAOuE,MAAOA,IACd,0BAAM4B,SA7BW,SAAA3D,GACnBA,EAAM4D,iBAEN,IAAMd,EAAQS,EAAOT,MACfC,EAAWQ,EAAOR,SAExB,KAlBKQ,EAAOT,MAAM5B,OAAS,GAAKqC,EAAOR,SAAS7B,OAAS,IACvDoC,EAAS,8BACF,IAkBP,OADAA,EAAS,0BACF,EAGTT,EAAYN,MAAMO,EAAOC,GACtBjD,MAAK,SAACxB,GACL,GAAGA,GAAU,KAAOA,EAAS,KAAO6B,IAAQtC,IAAI,aAAesC,IAAQtC,IAAI,UAGzE,OAFA0E,SACAnD,EAAMsB,QAAQC,KAAK,QAItBG,OAAM,SAAAC,GACLuC,EAAS,mCAUT,kBAACO,EAAA,EAAD,CAAYC,QAAQ,SAApB,SACA,kBAACC,EAAA,EAAD,CACEC,GAAG,QACHC,KAAK,QACLjF,KAAK,QACLkF,SAAUT,IACV,6BAAK,6BACP,kBAACI,EAAA,EAAD,CAAYC,QAAQ,YAApB,YACA,kBAACC,EAAA,EAAD,CACEC,GAAG,WACHC,KAAK,WACLjF,KAAK,WACLkF,SAAUT,IACV,6BACF,yBAAKjG,UAAU,aACb,kBAAC2G,EAAA,EAAD,CAAQF,KAAK,SAASG,QAAQ,WAAWC,MAAM,UAAU7G,UAAU,aAAnE,aCxDK8G,EAdM,SAACxB,EAAOI,EAAUH,GACnC,OAAGA,GAAYA,EAAS7B,OAAS,EACxB,2CAENgC,GAAYA,EAAShC,OAAS,EACxB,oBAEN4B,GAASA,EAAM5B,QAAU,EACjB,iBAGJ,I,8NCJX,IAyEeqD,EAzEE,SAACnF,GACZe,IAAQtC,IAAI,UACduB,EAAMsB,QAAQC,KAAK,KAFK,MAKEtB,mBAAS,IALX,mBAKnBkE,EALmB,KAKXC,EALW,OAMAnE,mBAAS,IANT,mBAMnB0C,EANmB,KAMZuB,EANY,KAQpBG,EAAe,SAACzD,GACpBA,EAAM0D,UACNF,GAAU,SAAAD,GAAM,O,yVAAA,IAASA,EAAT,eAAkBvD,EAAMC,OAAOjB,KAAOgB,EAAMC,OAAOwC,YA0BrE,OACE,yBAAKjF,UAAU,mBACb,wBAAIA,UAAU,eAAd,YAEA,kBAAC,EAAD,CAAOuE,MAAOA,IACd,0BAAM4B,SA5BW,SAAA3D,GACnB,IAAM8C,EAAQS,EAAOT,MACfI,EAAWK,EAAOL,SAClBH,EAAWQ,EAAOR,SAExB/C,EAAM4D,iBAEN,IAAMY,EAAoBC,EAAU3B,EAAOI,EAAUH,GAC5B,KAAtByB,EACDlB,EAASkB,GAET3B,EAAYM,SAASL,EAAOI,EAAUH,GACnCjD,MAAK,SAAAxB,GACDA,GAAU,KAAOA,EAAS,KAC3Bc,EAAMsB,QAAQC,KAAK,aAGtBG,OAAM,WACLwC,EAAS,sBAWX,kBAACO,EAAA,EAAD,CAAYC,QAAQ,SAApB,SACA,kBAACC,EAAA,EAAD,CACEC,GAAG,QACHC,KAAK,QACLjF,KAAK,QACLkF,SAAUT,IACV,6BAAK,6BACP,kBAACI,EAAA,EAAD,CAAYC,QAAQ,YAApB,YACA,kBAACC,EAAA,EAAD,CACEC,GAAG,WACHC,KAAK,WACLjF,KAAK,WACLkF,SAAUT,IACV,6BAAK,6BACP,kBAACI,EAAA,EAAD,CAAYC,QAAQ,YAApB,YACA,kBAACC,EAAA,EAAD,CACEC,GAAG,WACHC,KAAK,WACLjF,KAAK,WACLkF,SAAUT,IACV,6BACF,yBAAKjG,UAAU,aACb,kBAAC2G,EAAA,EAAD,CAAQF,KAAK,SAASG,QAAQ,WAAWC,MAAM,UAAU7G,UAAU,aAAnE,gBC/DKsE,MANf,WACE,OACE,+CCaWwC,EAjBM,SAACtF,EAAMC,EAAaC,GACrC,OAAKF,GAAQC,GAAeC,GAGtBA,EAAIwF,WAAW,UAAWxF,EAAIwF,WAAW,UAAaxF,EAAM,GACvD,eAEPD,EAAYiC,OAAS,IAAMjC,EAAYiC,OAAS,IACzC,uDAEPlC,EAAKkC,OAAS,GAAKlC,EAAKkC,OAAS,GAC1B,8CAGJ,GAZI,gB,8NCIf,IAyEeyD,EAzEI,SAACvF,GAAW,IAAD,EACAC,mBAAS,IADT,mBACrBkE,EADqB,KACbC,EADa,OAEFnE,mBAAS,IAFP,mBAErB0C,EAFqB,KAEduB,EAFc,KAItBG,EAAe,SAACzD,GACpBA,EAAM0D,UACNF,GAAU,SAAAD,GAAM,O,yVAAA,IAASA,EAAT,eAAkBvD,EAAMC,OAAOjB,KAAOgB,EAAMC,OAAOwC,YA+BrE,OACE,0BAAMjF,UAAU,eACd,2CACA,kBAAC,EAAD,CAAOuE,MAAOA,IACd,0BAAM4B,SAhCW,SAAA3D,GACnBA,EAAM4D,iBAEN,IAAMY,EAAoBC,EAAUlB,EAAOvE,KAAMuE,EAAOtE,YAAasE,EAAOrE,KAC5E,GAA0B,KAAtBsF,EAEF,OADAlB,EAASkB,IACF,EAGT3E,EAAed,IAAIwE,EAAOvE,KAAMuE,EAAOtE,YAAasE,EAAOrE,KACxDY,MAAK,SAAAxB,GACW,MAAXA,GAA6B,MAAXA,EACpBc,EAAMsB,QAAQC,KAAK,KAEnB2C,EAAS,iCAGZxC,OAAM,SAACC,GACY,MAAfA,EAAIzC,OACLc,EAAMsB,QAAQC,KAAK,UACI,MAAfI,EAAIzC,OACZgF,EAAS,kBAETA,EAAS,mCAUX,kBAACO,EAAA,EAAD,CAAYC,QAAQ,QAApB,QACA,kBAACC,EAAA,EAAD,CACEC,GAAG,OACHC,KAAK,OACLjF,KAAK,OACLkF,SAAUT,IACV,6BAAM,6BACR,kBAACI,EAAA,EAAD,CAAYC,QAAQ,eAApB,eACA,kBAACC,EAAA,EAAD,CACEC,GAAG,cACHC,KAAK,OACLjF,KAAK,cACLkF,SAAUT,IACV,6BAAM,6BACR,kBAACI,EAAA,EAAD,CAAYC,QAAQ,OAApB,OACA,kBAACC,EAAA,EAAD,CACEC,GAAG,MACHC,KAAK,OACLjF,KAAK,MACLkF,SAAUT,IACV,6BACF,yBAAKjG,UAAU,aACb,kBAAC2G,EAAA,EAAD,CAAQF,KAAK,SAASG,QAAQ,WAAWC,MAAM,UAAU7G,UAAU,mBAAnE,mBCjCKoH,G,MA9BA,WAAO,IACZvC,EAAWgB,qBAAWrB,GAAtBK,OAOR,OACE,yBAAK7E,UAAU,OACb,kBAAC,IAAD,CAAM2D,GAAG,IAAI3D,UAAU,aAAvB,UACA,4BAEK2C,IAAQtC,IAAI,UAA4C,IAAhCsC,IAAQtC,IAAI,SAASqD,OAQ1C,kBAAC,WAAD,KACE,4BAAI,kBAAC,IAAD,CAAMC,GAAG,GAAGO,QAnBX,WACjBW,IACAQ,EAAYR,WAiBI,YAPN,kBAAC,WAAD,KACE,4BAAI,kBAAC,IAAD,CAAMlB,GAAG,UAAT,UACJ,4BAAI,kBAAC,IAAD,CAAMA,GAAG,aAAT,kBCCL0D,MAff,WACE,OACI,kBAAC,WAAD,KACI,kBAAC,EAAD,MACA,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAOC,OAAK,EAACC,KAAK,IAAIC,UAAW7F,IACjC,kBAAC,IAAD,CAAO2F,OAAK,EAACC,KAAK,SAASC,UAAW5B,IACtC,kBAAC,IAAD,CAAO0B,OAAK,EAACC,KAAK,YAAYC,UAAWT,IACzC,kBAAC,IAAD,CAAOO,OAAK,EAACC,KAAK,eAAeC,UAAWL,IAC5C,kBAAC,IAAD,CAAOK,UAAWlD,OCZ9BmD,IAASC,OACL,kBAAC,EAAD,KACI,kBAAC,IAAD,KACI,kBAAC,EAAD,QAGNC,SAASC,eAAe,W","file":"static/js/main.21d5ae1c.chunk.js","sourcesContent":["import React from 'react';\r\nimport './index.css';\r\n\r\nfunction Footer() {\r\n    return (\r\n        <footer className=\"main-footer\">\r\n            <div className=\"left-side\">\r\n                <h2>Pizzas</h2>\r\n                <h4 className=\"description\">You can choose from our best pizzas and may be create your own!</h4>\r\n            </div>\r\n            <div className=\"right-side\">\r\n                <h2>Contacts</h2>\r\n                <span className=\"material-icons\">email</span>\r\n                <span className=\"material-icons\">call</span>\r\n                <h3 className=\"contact-item\">pizzeria@gmail.com</h3>\r\n                <h3>(541) 754-3010</h3>\r\n            </div>\r\n        </footer>\r\n    );\r\n}\r\n\r\nexport default Footer;","export default {\r\n    'BASE_URL': 'https://pizzaria-app.herokuapp.com/'\r\n}","import axios from 'axios';\r\nimport Cookie from 'js-cookie';\r\nimport config from './config';\r\nconst BASE_URL = config.BASE_URL;\r\n\r\nconst userId = Cookie.get('userId');\r\nconst token = Cookie.get('token');\r\n\r\naxios.defaults.headers = {\r\n    'Content-Type': 'application/json',\r\n    'token': token,\r\n    'userId': userId\r\n};\r\n\r\nconst laptopService = {\r\n    load: async() => {\r\n        const res = await axios.get(BASE_URL + 'products/all');\r\n        \r\n        if(res.status === 200) {\r\n            return {\r\n                products: res.data.products,\r\n                likedProducts: res.data.likedProducts\r\n            };            \r\n        }\r\n        return null;\r\n    },\r\n    like: async(productId) => {\r\n        let res;\r\n        try {\r\n            res = await axios.post(BASE_URL + 'products/like/' + productId);\r\n        }\r\n        catch(err) {            \r\n            return err.response.status;\r\n        }\r\n        return res.status;\r\n    },\r\n    delete: async(productId) => {\r\n        let res;        \r\n        try {\r\n            res = await axios.post(BASE_URL + 'products/delete/' + productId);\r\n        }\r\n        catch(err) {\r\n            return err.response.status;\r\n        }\r\n        return res.status;        \r\n    },\r\n    add: async(name, description, url) => {        \r\n        let res;        \r\n        try {\r\n            res = await axios.post(BASE_URL + 'products/add',\r\n                { name, url, description });\r\n        }\r\n        catch(err) {\r\n            return err.response;\r\n        }\r\n        return res.status;\r\n    }\r\n}\r\n\r\nexport default laptopService;","import React, { useState, useEffect } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport MatirialIcons from 'material-icons';\r\nimport { CircularProgress } from '@material-ui/core';\r\nimport Cookies from 'js-cookie';\r\nimport Footer from '../components/Footer/Footer';\r\nimport productService from '../services/product-service'\r\n\r\nconst Home = (props) => {\r\n  const [products, setProducts] = useState([]);\r\n  const [likedProducts, setLikedProducts] = useState([]);\r\n  const [isLiked, setIsLiked] = useState(false);\r\n  const [isLoading, setIsLoading] = useState(false);\r\n\r\n  useEffect(() => {\r\n    productService.load()\r\n      .then((obj) => {\r\n        const products = obj.products;\r\n        const likedProducts = obj.likedProducts;\r\n  \r\n        setProducts(products);\r\n        setLikedProducts(likedProducts);\r\n        setIsLoading(false);        \r\n      });\r\n  }, []);\r\n\r\n  const increaseLikes = (productId) => {\r\n    let allProducts = products;\r\n    allProducts.forEach(p => {\r\n      if(p._id === productId) {\r\n        p.likes++;\r\n      }\r\n    });    \r\n    setProducts(allProducts);\r\n  }\r\n  \r\n  const like = (event) => {\r\n    const productId = event.target.getAttribute('productid');    \r\n\r\n    if(!Cookies.get('token')) {   \r\n      props.history.push('/login');\r\n      return;\r\n    }    \r\n\r\n    increaseLikes(productId);\r\n    \r\n    productService.like(productId)\r\n      .then(() => {        \r\n        setIsLiked(true);\r\n      });\r\n  }\r\n\r\n  const deleteProduct = (event) => {\r\n    const productId = event.target.getAttribute('productid');\r\n\r\n    productService.delete(productId)\r\n      .then(() => {\r\n        const allProducts = [];\r\n        products.forEach((product) => {\r\n          if(product._id !== productId) {\r\n            allProducts.push(product);\r\n          }\r\n        });\r\n        setProducts(allProducts);\r\n      })\r\n      .catch(err => {\r\n        if(err.tokenIsOutDated) {\r\n          props.history.push(\"/login\");\r\n        }\r\n      });\r\n  }\r\n\r\n  const ToggleLikeIconColor = (productId) => {\r\n    let likeBtnClass = 'material-icons like-icon';\r\n    if(likedProducts.includes(productId)) {    \r\n      likeBtnClass = 'material-icons liked-icon';      \r\n    }\r\n    if(isLiked)\r\n    {\r\n      setIsLiked(false);\r\n      likeBtnClass = 'material-icons liked-icon';      \r\n    }\r\n    return <i className={likeBtnClass} onClick={like} productid={productId}>favorite</i>;\r\n  }\r\n  \r\n  if(isLoading) {\r\n    return (\r\n      <main className=\"main-container\">        \r\n        <CircularProgress className=\"loader\" />\r\n      </main>\r\n    );\r\n  }else if(products.length) {      \r\n    return (\r\n      <div className=\"home-page\">\r\n        {\r\n          Cookies.get('token')\r\n          ? <Link to=\"/product/add\" className=\"add-link\"><span className=\"material-icons\">add_box</span></Link>\r\n          : null\r\n        }\r\n        <main className=\"main-container\">\r\n          {products.map(product => (\r\n            <div className=\"product-item\" key={product._id}>\r\n              <img src={product.url} alt={product.name} />\r\n              <h2 className=\"title\">{product.name}</h2>\r\n              <p className=\"description\">{product.description}</p>\r\n              <div className=\"actions\">\r\n                <span className=\"likes-count\">Likes: {product.likes}</span>\r\n                {\r\n                  ToggleLikeIconColor(product._id)\r\n                }\r\n                {product.author === Cookies.get('userId') ? <i className=\"material-icons delete-icon\" onClick={deleteProduct} productid={product._id}>delete</i> : null}\r\n              </div>\r\n            </div>\r\n          ))}\r\n          <br/>\r\n        </main>\r\n        <Footer />\r\n        </div>        \r\n    )\r\n  }else {\r\n    return (\r\n      <div className=\"home-page\">\r\n        {\r\n          Cookies.get('token')\r\n          ? <Link to=\"/product/add\" className=\"add-link\"><span className=\"material-icons\">add_box</span></Link>\r\n          : null\r\n        }\r\n        <h2 className=\"main-message\">No Products!</h2><br/>\r\n      </div>\r\n    )\r\n  }    \r\n}\r\n\r\nexport default Home;","import React from 'react';\r\n\r\nfunction Error(props) {\r\n    return(        \r\n        <div>\r\n            <h3 className=\"error-message\">{props.error}</h3>\r\n            <br/>\r\n        </div>        \r\n    );\r\n}\r\n\r\nexport default Error;","import React, { Component, createContext } from 'react';\r\n\r\nexport const AuthContext = createContext();\r\n\r\nclass AuthContextProvider extends Component {\r\n    state = {\r\n        isAuthenticated: false\r\n    }\r\n\r\n    logout = () => {\r\n        this.setState({ isAuthenticated: false });\r\n    }\r\n\r\n    login = () => {\r\n        this.setState({ isAuthenticated: true });\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <AuthContext.Provider value={{...this.state, logout: this.logout, login: this.login}}>\r\n                {this.props.children}\r\n            </AuthContext.Provider>\r\n        );\r\n    }\r\n}\r\n\r\nexport default AuthContextProvider;","import axios from 'axios';\r\nimport Cookie from 'js-cookie';\r\nimport config from './config';\r\nconst BASE_URL = config.BASE_URL;\r\n\r\nconst userId = Cookie.get('userId');\r\nconst token = Cookie.get('token');\r\n\r\naxios.defaults.headers = {\r\n    'Content-Type': 'application/json',\r\n    'token': token,\r\n    'userId': userId\r\n};\r\n\r\nconst authService = {\r\n    login: async(email, password) => {\r\n        let res;\r\n        try {\r\n            res = await axios.post(BASE_URL + 'auth/signIn', { email, password });\r\n        }\r\n        catch(err) {\r\n            return err.response.status;\r\n        }\r\n        \r\n        if(res.status === 200) { \r\n            Cookie.set('token', res.data.token, { expires: 100 });\r\n            Cookie.set('username', res.data.username);\r\n            Cookie.set('userId', res.data.userId);               \r\n        }\r\n\r\n        return res.status;\r\n    },\r\n    logout: () => {        \r\n        Cookie.set('token', '');\r\n        Cookie.set('username', '');\r\n        Cookie.set('userId', '');        \r\n    },\r\n    register: async(email, username, password) => {        \r\n        let res;\r\n        try {\r\n            res = await axios.post(BASE_URL + 'auth/signup', { email, username, password });            \r\n        }\r\n        catch(err) {\r\n            return err.response.status;\r\n        }\r\n\r\n        return res.status;\r\n    }\r\n}\r\n\r\nexport default authService;","import React, { useState, useContext } from 'react';\r\nimport { Button, Input, InputLabel } from '@material-ui/core';\r\nimport Cookies from 'js-cookie';\r\nimport Error from '../components/Error';\r\nimport { AuthContext } from '../contexts/AuthContext';\r\nimport authService from '../services/auth-service';\r\n\r\nconst Login = (props) => {\r\n  const { login } = useContext(AuthContext);\r\n  const [error, setError] = useState('');\r\n  const [inputs, setInputs] = useState({});\r\n  \r\n  const validateForm = () => {\r\n    if(!(inputs.email.length > 4 && inputs.password.length > 4)) {\r\n      setError('Invalid email or password!');\r\n      return false;\r\n    }\r\n    return true;\r\n  }\r\n\r\n  const handleChange = (event) => {\r\n    event.persist();\r\n    setInputs(inputs => ({...inputs, [event.target.name]: event.target.value}));\r\n  }\r\n\r\n  const handleSubmit = event => {\r\n    event.preventDefault();    \r\n\r\n    const email = inputs.email;\r\n    const password = inputs.password;\r\n    \r\n    if(!validateForm()) {      \r\n      setError('Something went wrong!');\r\n      return false;\r\n    }\r\n   \r\n    authService.login(email, password)\r\n      .then((status) => {        \r\n        if(status >= 200 && status < 300 && Cookies.get('username') && Cookies.get('userId')) {\r\n          login();\r\n          props.history.push('/');\r\n          return;\r\n        }\r\n      })\r\n      .catch(err => {\r\n        setError('Invalid email or password!');\r\n        return;\r\n      });    \r\n  }\r\n  \r\n  return (\r\n    <div className=\"login-container\">\r\n      <h1 className=\"login-title\">Login</h1>\r\n      <Error error={error} />\r\n      <form onSubmit={handleSubmit}>\r\n        <InputLabel htmlFor=\"email\">Email</InputLabel>\r\n        <Input\r\n          id=\"email\"\r\n          type=\"email\"\r\n          name=\"email\"         \r\n          onChange={handleChange}\r\n        /><br/><br/>\r\n        <InputLabel htmlFor=\"password\">Password</InputLabel>\r\n        <Input\r\n          id=\"password\"\r\n          type=\"password\"\r\n          name=\"password\"\r\n          onChange={handleChange}            \r\n        /><br/>\r\n        <div className=\"login-btn\">\r\n          <Button type=\"submit\" variant=\"outlined\" color=\"primary\" className=\"login-btn\" >\r\n            Login\r\n          </Button>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  );  \r\n}\r\n\r\nexport default Login;","const validateForm = (email, username, password) => {\r\n    if(password && password.length < 5) {\r\n      return 'Password should be minimum 5 characters!';\r\n    }\r\n    if(username && username.length < 5) {\r\n      return 'Invalid username!';\r\n    }\r\n    if(email && email.length <= 4) {\r\n        return 'Invalid email!';\r\n    }\r\n\r\n    return '';\r\n}\r\n\r\nexport default validateForm;","import React, { useState } from 'react';\r\nimport { Button, Input, InputLabel } from '@material-ui/core';\r\nimport Cookies from 'js-cookie';\r\nimport Error from '../../components/Error';\r\nimport authService from '../../services/auth-service';\r\nimport validator from './validator';\r\n\r\nconst Register = (props) => {\r\n  if (Cookies.get('token')) {\r\n    props.history.push('/');\r\n  }\r\n  \r\n  const [inputs, setInputs] = useState({});\r\n  const [error, setError] = useState('');  \r\n\r\n  const handleChange = (event) => {\r\n    event.persist();\r\n    setInputs(inputs => ({...inputs, [event.target.name]: event.target.value}));\r\n  }\r\n\r\n  const handleSubmit = event => {\r\n    const email = inputs.email;\r\n    const username = inputs.username;\r\n    const password = inputs.password;\r\n\r\n    event.preventDefault();    \r\n    \r\n    const validationMessage = validator(email, username, password);\r\n    if(validationMessage !== '') {\r\n      setError(validationMessage);\r\n    } else {\r\n      authService.register(email, username, password)         \r\n        .then(status => {          \r\n          if(status >= 200 && status < 300) {\r\n            props.history.push(\"/login\");\r\n          }\r\n        })\r\n        .catch(() => {          \r\n          setError('Invalid data!');\r\n        });\r\n    }    \r\n  }\r\n    \r\n  return (\r\n    <div className=\"login-container\">          \r\n      <h1 className=\"login-title\">Register</h1>\r\n      \r\n      <Error error={error} />\r\n      <form onSubmit={handleSubmit}>\r\n        <InputLabel htmlFor=\"email\">Email</InputLabel>\r\n        <Input\r\n          id=\"email\"\r\n          type=\"email\"\r\n          name=\"email\"            \r\n          onChange={handleChange}\r\n        /><br/><br/>\r\n        <InputLabel htmlFor=\"username\">Username</InputLabel>\r\n        <Input\r\n          id=\"username\"\r\n          type=\"username\"\r\n          name=\"username\"            \r\n          onChange={handleChange}\r\n        /><br/><br/>\r\n        <InputLabel htmlFor=\"password\">Password</InputLabel>\r\n        <Input\r\n          id=\"password\"\r\n          type=\"password\"\r\n          name=\"password\"            \r\n          onChange={handleChange}            \r\n        /><br/>\r\n        <div className=\"login-btn\">\r\n          <Button type=\"submit\" variant=\"outlined\" color=\"primary\" className=\"login-btn\" >\r\n            Register\r\n          </Button>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  );  \r\n}\r\n\r\nexport default Register;","import React from 'react';\r\n\r\nfunction Error() {\r\n  return (\r\n    <h1>Invalid Route!</h1>\r\n  );\r\n}\r\n\r\nexport default Error;","const validateForm = (name, description, url) => {\r\n    if(!(name && description && url)) {\r\n        return 'Invalid data';\r\n    }\r\n    if (!(url.startsWith('http') || url.startsWith('https')) || url < 10) {\r\n        return 'Invalid URL!';\r\n    }\r\n    if (description.length < 35 || description.length > 200) {\r\n        return 'Description should be between 35 and 200 characters!';\r\n    }\r\n    if (name.length < 4 || name.length > 30) {\r\n        return 'Name should be between 4 and 30 characters!';\r\n    }    \r\n\r\n    return '';\r\n}\r\n\r\nexport default validateForm;","import React, { useState } from 'react';\r\nimport { Button, Input, InputLabel } from '@material-ui/core';\r\nimport Error from '../../components/Error';\r\nimport productService from '../../services/product-service';\r\nimport validator from './validator';\r\n\r\nconst AddProduct = (props) => {\r\n  const [inputs, setInputs] = useState({});\r\n  const [error, setError] = useState('');    \r\n\r\n  const handleChange = (event) => {\r\n    event.persist();\r\n    setInputs(inputs => ({...inputs, [event.target.name]: event.target.value}));\r\n  }\r\n\r\n  const handleSubmit = event => {\r\n    event.preventDefault();\r\n\r\n    const validationMessage = validator(inputs.name, inputs.description, inputs.url);\r\n    if (validationMessage !== '') {\r\n      setError(validationMessage);\r\n      return false;\r\n    }\r\n\r\n    productService.add(inputs.name, inputs.description, inputs.url)\r\n      .then(status => {\r\n        if (status === 200 || status === 201) {\r\n          props.history.push(\"/\");\r\n        } else {\r\n          setError('Product cannot be created!');\r\n        }\r\n      })\r\n      .catch((err) => {        \r\n        if(err.status === 401) {\r\n          props.history.push(\"/login\");\r\n        } else if(err.status === 409) {\r\n          setError('Name is taken!');\r\n        } else {\r\n          setError('Product cannot be created!');\r\n        }\r\n      });\r\n  }\r\n  \r\n  return (\r\n    <main className=\"add-product\">\r\n      <h1>Add Product</h1>\r\n      <Error error={error} />\r\n      <form onSubmit={handleSubmit}>\r\n        <InputLabel htmlFor=\"name\">Name</InputLabel>\r\n        <Input\r\n          id=\"name\"\r\n          type=\"text\"\r\n          name=\"name\"\r\n          onChange={handleChange}\r\n        /><br /><br />\r\n        <InputLabel htmlFor=\"description\">Description</InputLabel>\r\n        <Input\r\n          id=\"description\"\r\n          type=\"text\"\r\n          name=\"description\"\r\n          onChange={handleChange}\r\n        /><br /><br />\r\n        <InputLabel htmlFor=\"url\">URL</InputLabel>\r\n        <Input\r\n          id=\"url\"\r\n          type=\"text\"\r\n          name=\"url\"\r\n          onChange={handleChange}\r\n        /><br />\r\n        <div className=\"login-btn\">\r\n          <Button type=\"submit\" variant=\"outlined\" color=\"primary\" className=\"add-product-btn\" >\r\n            Add Product\r\n          </Button>\r\n        </div>\r\n      </form>\r\n    </main>\r\n  );  \r\n}\r\n\r\nexport default AddProduct;","import React, { useContext, Fragment } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport Cookies from 'js-cookie';\r\nimport './index.css';\r\nimport { AuthContext } from '../../contexts/AuthContext';\r\nimport authService from '../../services/auth-service';\r\n\r\nconst Navbar = () => {\r\n  const { logout } = useContext(AuthContext);\r\n  \r\n  const logoutFunc = () => {\r\n    logout();\r\n    authService.logout();\r\n  }\r\n\r\n  return (\r\n    <nav className=\"nav\">\r\n      <Link to=\"/\" className=\"site-logo\">PIZZAS</Link>\r\n      <ul>  \r\n        {          \r\n          !Cookies.get('token') || Cookies.get('token').length === 0 \r\n            ? (\r\n              <Fragment>\r\n                <li><Link to=\"/login\">Login</Link></li>\r\n                <li><Link to=\"/register\">Register</Link></li>\r\n              </Fragment>\r\n            )\r\n            : (\r\n              <Fragment>\r\n                <li><Link to=\"\" onClick={logoutFunc}>Logout</Link></li>                \r\n              </Fragment>)\r\n        }          \r\n      </ul>\r\n    </nav>\r\n  );\r\n}\r\n\r\nexport default Navbar;","import React, {Fragment} from 'react';\nimport { Route, Switch } from 'react-router-dom';\n\nimport Home from './pages/Home';\nimport Login from './pages/Login';\nimport Register from './pages/Register/Register';\nimport Error from './pages/Error';\nimport AddProduct from './pages/AddProduct/AddProduct';\nimport Navbar from \"./components/Navbar/Navbar\";\n\nfunction App() {\n  return (    \n      <Fragment>\n          <Navbar />\n          <Switch>\n            <Route exact path=\"/\" component={Home} />\n            <Route exact path=\"/login\" component={Login} />\n            <Route exact path=\"/register\" component={Register} />\n            <Route exact path=\"/product/add\" component={AddProduct} />\n            <Route component={Error} />\n          </Switch>\n      </Fragment>    \n  );\n}\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter as Router } from 'react-router-dom';\nimport './index.css';\nimport App from './App';\nimport AuthContextProvider from './contexts/AuthContext';\n\nReactDOM.render(\n    <AuthContextProvider>\n        <Router>\n            <App />\n        </Router>\n    </AuthContextProvider>  \n    , document.getElementById('root'));"],"sourceRoot":""}