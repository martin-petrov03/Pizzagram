{"version":3,"sources":["components/Footer/Footer.jsx","services/config.js","services/product-service.js","pages/Home.jsx","components/Error.jsx","contexts/AuthContext.js","services/auth-service.js","pages/Login.jsx","pages/Register/validator.js","pages/Register/Register.jsx","pages/Error.jsx","pages/AddProduct/validator.js","pages/AddProduct/AddProduct.jsx","components/Navbar/Navbar.jsx","App.jsx","index.js"],"names":["Footer","className","BASE_URL","config","userId","Cookie","get","token","axios","defaults","headers","laptopService","load","a","res","status","products","data","likedProducts","like","productId","post","response","delete","add","name","description","url","Home","props","useState","setProducts","setLikedProducts","isLiked","setIsLiked","isLoading","setIsLoading","useEffect","productService","then","obj","event","target","getAttribute","Cookies","allProducts","forEach","p","_id","likes","increaseLikes","likedProductsIds","length","set","history","push","deleteProduct","product","catch","err","tokenIsOutDated","CircularProgress","to","map","key","src","alt","likeBtnClass","includes","onClick","productid","ToggleLikeIconColor","author","Error","error","AuthContext","createContext","AuthContextProvider","state","isAuthenticated","logout","setState","login","Provider","value","this","children","Component","authService","email","password","expires","username","register","Login","useContext","setError","inputs","setInputs","handleChange","persist","onSubmit","preventDefault","InputLabel","htmlFor","Input","id","type","onChange","Button","variant","color","validateForm","Register","validationMessage","validator","startsWith","AddProduct","Navbar","App","exact","path","component","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.917f1629.chunk.js","sourcesContent":["import React from 'react';\r\nimport './index.css';\r\n\r\nfunction Footer() {\r\n    return (\r\n        <footer className=\"main-footer\">\r\n            <div className=\"left-side\">\r\n                <h2>Pizzas</h2>\r\n                <h4 className=\"description\">You can choose from our best pizzas and may be create your own!</h4>\r\n            </div>\r\n            <div className=\"right-side\">\r\n                <h2>Contacts</h2>\r\n                <span className=\"material-icons\">email</span>\r\n                <span className=\"material-icons\">call</span>\r\n                <h3 className=\"contact-item\">pizzeria@gmail.com</h3>\r\n                <h3>(541) 754-3010</h3>\r\n            </div>\r\n        </footer>\r\n    );\r\n}\r\n\r\nexport default Footer;","export default {\r\n    'BASE_URL': 'https://pizzaria-app.herokuapp.com/'\r\n}","import axios from 'axios';\r\nimport Cookie from 'js-cookie';\r\nimport config from './config';\r\nconst BASE_URL = config.BASE_URL;\r\n\r\nconst userId = Cookie.get('userId');\r\nconst token = Cookie.get('token');\r\n\r\naxios.defaults.headers = {\r\n    'Content-Type': 'application/json',\r\n    'token': token,\r\n    'userId': userId\r\n};\r\n\r\nconst laptopService = {\r\n    load: async() => {\r\n        const res = await axios.get(BASE_URL + 'products/all');\r\n        \r\n        if(res.status === 200) {\r\n            return {\r\n                products: res.data.products,\r\n                likedProducts: res.data.likedProducts\r\n            };            \r\n        }\r\n        return null;\r\n    },\r\n    like: async(productId) => {\r\n        let res;\r\n        try {\r\n            res = await axios.post(BASE_URL + 'products/like/' + productId);\r\n        }\r\n        catch(err) {            \r\n            return err.response.status;\r\n        }\r\n        return res.status;\r\n    },\r\n    delete: async(productId) => {\r\n        let res;        \r\n        try {\r\n            res = await axios.post(BASE_URL + 'products/delete/' + productId);\r\n        }\r\n        catch(err) {\r\n            return err.response.status;\r\n        }\r\n        return res.status;        \r\n    },\r\n    add: async(name, description, url) => {        \r\n        let res;        \r\n        try {\r\n            res = await axios.post(BASE_URL + 'products/add',\r\n                { name, url, description });\r\n        }\r\n        catch(err) {\r\n            return err.response;\r\n        }\r\n        return res.status;\r\n    }\r\n}\r\n\r\nexport default laptopService;","import React, { useState, useEffect } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport MatirialIcons from 'material-icons';\r\nimport { CircularProgress } from '@material-ui/core';\r\nimport Cookies from 'js-cookie';\r\nimport Footer from '../components/Footer/Footer';\r\nimport productService from '../services/product-service'\r\n\r\nconst Home = (props) => {\r\n  const [products, setProducts] = useState([]);\r\n  const [likedProducts, setLikedProducts] = useState([]);\r\n  const [isLiked, setIsLiked] = useState(false);\r\n  const [isLoading, setIsLoading] = useState(false);\r\n\r\n  useEffect(() => {\r\n    productService.load()\r\n      .then((obj) => {\r\n        const products = obj.products;\r\n        const likedProducts = obj.likedProducts;\r\n  \r\n        setProducts(products);\r\n        setLikedProducts(likedProducts);\r\n        setIsLoading(false);        \r\n      });\r\n  }, []);\r\n\r\n  const increaseLikes = (productId) => {\r\n    let allProducts = products;\r\n    allProducts.forEach(p => {\r\n      if(p._id === productId) {\r\n        p.likes++;\r\n      }\r\n    });    \r\n    setProducts(allProducts);\r\n  }\r\n  \r\n  const like = (event) => {\r\n    const productId = event.target.getAttribute('productid');    \r\n\r\n    if(!Cookies.get('token')) {   \r\n      props.history.push('/login');\r\n      return;\r\n    }\r\n\r\n    increaseLikes(productId);\r\n    \r\n    productService.like(productId)\r\n      .then(() => {\r\n        let likedProductsIds = Cookies.get('likedProductsIds');        \r\n        \r\n        if(likedProductsIds.length) {\r\n          likedProductsIds += ` ${productId}`;\r\n        } else {\r\n          likedProductsIds = productId; \r\n        }\r\n\r\n        Cookies.set('likedProductsIds', likedProductsIds);\r\n        \r\n        setIsLiked(true);\r\n      });\r\n  }\r\n\r\n  const deleteProduct = (event) => {\r\n    const productId = event.target.getAttribute('productid');\r\n\r\n    productService.delete(productId)\r\n      .then(() => {\r\n        const allProducts = [];\r\n        products.forEach((product) => {\r\n          if(product._id !== productId) {\r\n            allProducts.push(product);\r\n          }\r\n        });\r\n        setProducts(allProducts);\r\n      })\r\n      .catch(err => {\r\n        if(err.tokenIsOutDated) {\r\n          props.history.push(\"/login\");\r\n        }\r\n      });\r\n  }\r\n\r\n  const ToggleLikeIconColor = (productId) => {\r\n    let likeBtnClass = 'material-icons like-icon';\r\n    if(likedProducts.includes(productId)) {    \r\n      likeBtnClass = 'material-icons liked-icon';      \r\n    }\r\n    if(isLiked)\r\n    {\r\n      setIsLiked(false);\r\n      likeBtnClass = 'material-icons liked-icon';      \r\n    }\r\n    return <i className={likeBtnClass} onClick={like} productid={productId}>favorite</i>;\r\n  }\r\n  \r\n  if(isLoading) {\r\n    return (\r\n      <main className=\"main-container\">        \r\n        <CircularProgress className=\"loader\" />\r\n      </main>\r\n    );\r\n  }else if(products.length) {      \r\n    return (\r\n      <div className=\"home-page\">\r\n        {\r\n          Cookies.get('token')\r\n          ? <Link to=\"/product/add\" className=\"add-link\"><span className=\"material-icons\">add_box</span></Link>\r\n          : null\r\n        }\r\n        <main className=\"main-container\">\r\n          {products.map(product => (\r\n            <div className=\"product-item\" key={product._id}>\r\n              <img src={product.url} alt={product.name} />\r\n              <h2 className=\"title\">{product.name}</h2>\r\n              <p className=\"description\">{product.description}</p>\r\n              <div className=\"actions\">\r\n                <span className=\"likes-count\">Likes: {product.likes}</span>\r\n                {\r\n                  ToggleLikeIconColor(product._id)\r\n                }\r\n                {product.author === Cookies.get('userId') ? <i className=\"material-icons delete-icon\" onClick={deleteProduct} productid={product._id}>delete</i> : null}\r\n              </div>\r\n            </div>\r\n          ))}\r\n          <br/>\r\n        </main>\r\n        <Footer />\r\n        </div>        \r\n    )\r\n  }else {\r\n    return (\r\n      <div className=\"home-page\">\r\n        {\r\n          Cookies.get('token')\r\n          ? <Link to=\"/product/add\" className=\"add-link\"><span className=\"material-icons\">add_box</span></Link>\r\n          : null\r\n        }\r\n        <h2 className=\"main-message\">No Products!</h2><br/>\r\n      </div>\r\n    )\r\n  }    \r\n}\r\n\r\nexport default Home;","import React from 'react';\r\n\r\nfunction Error(props) {\r\n    return(        \r\n        <div>\r\n            <h3 className=\"error-message\">{props.error}</h3>\r\n            <br/>\r\n        </div>        \r\n    );\r\n}\r\n\r\nexport default Error;","import React, { Component, createContext } from 'react';\r\n\r\nexport const AuthContext = createContext();\r\n\r\nclass AuthContextProvider extends Component {\r\n    state = {\r\n        isAuthenticated: false\r\n    }\r\n\r\n    logout = () => {\r\n        this.setState({ isAuthenticated: false });\r\n    }\r\n\r\n    login = () => {\r\n        this.setState({ isAuthenticated: true });\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <AuthContext.Provider value={{...this.state, logout: this.logout, login: this.login}}>\r\n                {this.props.children}\r\n            </AuthContext.Provider>\r\n        );\r\n    }\r\n}\r\n\r\nexport default AuthContextProvider;","import axios from 'axios';\r\nimport Cookie from 'js-cookie';\r\nimport config from './config';\r\nconst BASE_URL = config.BASE_URL;\r\n\r\nconst userId = Cookie.get('userId');\r\nconst token = Cookie.get('token');\r\n\r\naxios.defaults.headers = {\r\n    'Content-Type': 'application/json',\r\n    'token': token,\r\n    'userId': userId\r\n};\r\n\r\nconst authService = {\r\n    login: async(email, password) => {\r\n        let res;\r\n        try {\r\n            res = await axios.post(BASE_URL + 'auth/signIn', { email, password });\r\n        }\r\n        catch(err) {\r\n            return err.response.status;\r\n        }\r\n        \r\n        if(res.status === 200) { \r\n            Cookie.set('token', res.data.token, { expires: 100 });\r\n            Cookie.set('username', res.data.username);\r\n            Cookie.set('userId', res.data.userId);               \r\n        }\r\n\r\n        return res.status;\r\n    },\r\n    logout: () => {        \r\n        Cookie.set('token', '');\r\n        Cookie.set('username', '');\r\n        Cookie.set('userId', '');        \r\n    },\r\n    register: async(email, username, password) => {        \r\n        let res;\r\n        try {\r\n            res = await axios.post(BASE_URL + 'auth/signup', { email, username, password });            \r\n        }\r\n        catch(err) {\r\n            return err.response.status;\r\n        }\r\n\r\n        return res.status;\r\n    }\r\n}\r\n\r\nexport default authService;","import React, { useState, useContext } from 'react';\r\nimport { Button, Input, InputLabel } from '@material-ui/core';\r\nimport Cookies from 'js-cookie';\r\nimport Error from '../components/Error';\r\nimport { AuthContext } from '../contexts/AuthContext';\r\nimport authService from '../services/auth-service';\r\n\r\nconst Login = (props) => {\r\n  const { login } = useContext(AuthContext);\r\n  const [error, setError] = useState('');\r\n  const [inputs, setInputs] = useState({});\r\n  \r\n  const validateForm = () => {\r\n    if(!(inputs.email.length > 4 && inputs.password.length > 4)) {\r\n      setError('Invalid email or password!');\r\n      return false;\r\n    }\r\n    return true;\r\n  }\r\n\r\n  const handleChange = (event) => {\r\n    event.persist();\r\n    setInputs(inputs => ({...inputs, [event.target.name]: event.target.value}));\r\n  }\r\n\r\n  const handleSubmit = event => {\r\n    event.preventDefault();    \r\n\r\n    const email = inputs.email;\r\n    const password = inputs.password;\r\n    \r\n    if(!validateForm()) {      \r\n      setError('Something went wrong!');\r\n      return false;\r\n    }\r\n   \r\n    authService.login(email, password)\r\n      .then((status) => {        \r\n        if(status >= 200 && status < 300 && Cookies.get('username') && Cookies.get('userId')) {\r\n          login();\r\n          props.history.push('/');\r\n          return;\r\n        }\r\n      })\r\n      .catch(err => {\r\n        setError('Invalid email or password!');\r\n        return;\r\n      });    \r\n  }\r\n  \r\n  return (\r\n    <div className=\"login-container\">\r\n      <h1 className=\"login-title\">Login</h1>\r\n      <Error error={error} />\r\n      <form onSubmit={handleSubmit}>\r\n        <InputLabel htmlFor=\"email\">Email</InputLabel>\r\n        <Input\r\n          id=\"email\"\r\n          type=\"email\"\r\n          name=\"email\"         \r\n          onChange={handleChange}\r\n        /><br/><br/>\r\n        <InputLabel htmlFor=\"password\">Password</InputLabel>\r\n        <Input\r\n          id=\"password\"\r\n          type=\"password\"\r\n          name=\"password\"\r\n          onChange={handleChange}            \r\n        /><br/>\r\n        <div className=\"login-btn\">\r\n          <Button type=\"submit\" variant=\"outlined\" color=\"primary\" className=\"login-btn\" >\r\n            Login\r\n          </Button>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  );  \r\n}\r\n\r\nexport default Login;","const validateForm = (email, username, password) => {\r\n    if(password && password.length < 5) {\r\n      return 'Password should be minimum 5 characters!';\r\n    }\r\n    if(username && username.length < 5) {\r\n      return 'Invalid username!';\r\n    }\r\n    if(email && email.length <= 4) {\r\n        return 'Invalid email!';\r\n    }\r\n\r\n    return '';\r\n}\r\n\r\nexport default validateForm;","import React, { useState } from 'react';\r\nimport { Button, Input, InputLabel } from '@material-ui/core';\r\nimport Cookies from 'js-cookie';\r\nimport Error from '../../components/Error';\r\nimport authService from '../../services/auth-service';\r\nimport validator from './validator';\r\n\r\nconst Register = (props) => {\r\n  if (Cookies.get('token')) {\r\n    props.history.push('/');\r\n  }\r\n  \r\n  const [inputs, setInputs] = useState({});\r\n  const [error, setError] = useState('');  \r\n\r\n  const handleChange = (event) => {\r\n    event.persist();\r\n    setInputs(inputs => ({...inputs, [event.target.name]: event.target.value}));\r\n  }\r\n\r\n  const handleSubmit = event => {\r\n    const email = inputs.email;\r\n    const username = inputs.username;\r\n    const password = inputs.password;\r\n\r\n    event.preventDefault();    \r\n    \r\n    const validationMessage = validator(email, username, password);\r\n    if(validationMessage !== '') {\r\n      setError(validationMessage);\r\n    } else {\r\n      authService.register(email, username, password)         \r\n        .then(status => {          \r\n          if(status >= 200 && status < 300) {\r\n            props.history.push(\"/login\");\r\n          }\r\n        })\r\n        .catch(() => {          \r\n          setError('Invalid data!');\r\n        });\r\n    }    \r\n  }\r\n    \r\n  return (\r\n    <div className=\"login-container\">          \r\n      <h1 className=\"login-title\">Register</h1>\r\n      \r\n      <Error error={error} />\r\n      <form onSubmit={handleSubmit}>\r\n        <InputLabel htmlFor=\"email\">Email</InputLabel>\r\n        <Input\r\n          id=\"email\"\r\n          type=\"email\"\r\n          name=\"email\"            \r\n          onChange={handleChange}\r\n        /><br/><br/>\r\n        <InputLabel htmlFor=\"username\">Username</InputLabel>\r\n        <Input\r\n          id=\"username\"\r\n          type=\"username\"\r\n          name=\"username\"            \r\n          onChange={handleChange}\r\n        /><br/><br/>\r\n        <InputLabel htmlFor=\"password\">Password</InputLabel>\r\n        <Input\r\n          id=\"password\"\r\n          type=\"password\"\r\n          name=\"password\"            \r\n          onChange={handleChange}            \r\n        /><br/>\r\n        <div className=\"login-btn\">\r\n          <Button type=\"submit\" variant=\"outlined\" color=\"primary\" className=\"login-btn\" >\r\n            Register\r\n          </Button>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  );  \r\n}\r\n\r\nexport default Register;","import React from 'react';\r\n\r\nfunction Error() {\r\n  return (\r\n    <h1>Invalid Route!</h1>\r\n  );\r\n}\r\n\r\nexport default Error;","const validateForm = (name, description, url) => {\r\n    if(!(name && description && url)) {\r\n        return 'Invalid data';\r\n    }\r\n    if (!(url.startsWith('http') || url.startsWith('https')) || url < 10) {\r\n        return 'Invalid URL!';\r\n    }\r\n    if (description.length < 35 || description.length > 200) {\r\n        return 'Description should be between 35 and 200 characters!';\r\n    }\r\n    if (name.length < 4 || name.length > 30) {\r\n        return 'Name should be between 4 and 30 characters!';\r\n    }    \r\n\r\n    return '';\r\n}\r\n\r\nexport default validateForm;","import React, { useState } from 'react';\r\nimport { Button, Input, InputLabel } from '@material-ui/core';\r\nimport Error from '../../components/Error';\r\nimport productService from '../../services/product-service';\r\nimport validator from './validator';\r\n\r\nconst AddProduct = (props) => {\r\n  const [inputs, setInputs] = useState({});\r\n  const [error, setError] = useState('');    \r\n\r\n  const handleChange = (event) => {\r\n    event.persist();\r\n    setInputs(inputs => ({...inputs, [event.target.name]: event.target.value}));\r\n  }\r\n\r\n  const handleSubmit = event => {\r\n    event.preventDefault();\r\n\r\n    const validationMessage = validator(inputs.name, inputs.description, inputs.url);\r\n    if (validationMessage !== '') {\r\n      setError(validationMessage);\r\n      return false;\r\n    }\r\n\r\n    productService.add(inputs.name, inputs.description, inputs.url)\r\n      .then(status => {\r\n        if (status === 200 || status === 201) {\r\n          props.history.push(\"/\");\r\n        } else {\r\n          setError('Product cannot be created!');\r\n        }\r\n      })\r\n      .catch((err) => {        \r\n        if(err.status === 401) {\r\n          props.history.push(\"/login\");\r\n        } else if(err.status === 409) {\r\n          setError('Name is taken!');\r\n        } else {\r\n          setError('Product cannot be created!');\r\n        }\r\n      });\r\n  }\r\n  \r\n  return (\r\n    <main className=\"add-product\">\r\n      <h1>Add Product</h1>\r\n      <Error error={error} />\r\n      <form onSubmit={handleSubmit}>\r\n        <InputLabel htmlFor=\"name\">Name</InputLabel>\r\n        <Input\r\n          id=\"name\"\r\n          type=\"text\"\r\n          name=\"name\"\r\n          onChange={handleChange}\r\n        /><br /><br />\r\n        <InputLabel htmlFor=\"description\">Description</InputLabel>\r\n        <Input\r\n          id=\"description\"\r\n          type=\"text\"\r\n          name=\"description\"\r\n          onChange={handleChange}\r\n        /><br /><br />\r\n        <InputLabel htmlFor=\"url\">URL</InputLabel>\r\n        <Input\r\n          id=\"url\"\r\n          type=\"text\"\r\n          name=\"url\"\r\n          onChange={handleChange}\r\n        /><br />\r\n        <div className=\"login-btn\">\r\n          <Button type=\"submit\" variant=\"outlined\" color=\"primary\" className=\"add-product-btn\" >\r\n            Add Product\r\n          </Button>\r\n        </div>\r\n      </form>\r\n    </main>\r\n  );  \r\n}\r\n\r\nexport default AddProduct;","import React, { useContext, Fragment } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport Cookies from 'js-cookie';\r\nimport './index.css';\r\nimport { AuthContext } from '../../contexts/AuthContext';\r\nimport authService from '../../services/auth-service';\r\n\r\nconst Navbar = () => {\r\n  const { logout, isAuthenticated } = useContext(AuthContext);\r\n  \r\n  const logoutFunc = () => {\r\n    logout();\r\n    authService.logout();\r\n  }\r\n\r\n  return (\r\n    <nav className=\"nav\">\r\n      <Link to=\"/\" className=\"site-logo\">PIZZAS</Link>\r\n      <ul>\r\n        {\r\n          isAuthenticated || Cookies.get('token')\r\n            ?(\r\n              <Fragment>                \r\n                <li><Link to=\"\" onClick={logoutFunc}>Logout</Link></li>\r\n              </Fragment>\r\n            )\r\n            : (\r\n              <Fragment>                      \r\n                <li><Link to=\"/login\">Login</Link></li>\r\n                <li><Link to=\"/register\">Register</Link></li>\r\n              </Fragment>)\r\n        }          \r\n      </ul>\r\n    </nav>\r\n  );\r\n}\r\n\r\nexport default Navbar;","import React, {Fragment} from 'react';\nimport { Route, Switch } from 'react-router-dom';\n\nimport Home from './pages/Home';\nimport Login from './pages/Login';\nimport Register from './pages/Register/Register';\nimport Error from './pages/Error';\nimport AddProduct from './pages/AddProduct/AddProduct';\nimport Navbar from \"./components/Navbar/Navbar\";\n\nfunction App() {\n  return (    \n      <Fragment>\n          <Navbar />\n          <Switch>\n            <Route exact path=\"/\" component={Home} />\n            <Route exact path=\"/login\" component={Login} />\n            <Route exact path=\"/register\" component={Register} />\n            <Route exact path=\"/product/add\" component={AddProduct} />\n            <Route component={Error} />\n          </Switch>\n      </Fragment>    \n  );\n}\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter as Router } from 'react-router-dom';\nimport './index.css';\nimport App from './App';\nimport AuthContextProvider from './contexts/AuthContext';\n\nReactDOM.render(\n    <AuthContextProvider>\n        <Router>\n            <App />\n        </Router>\n    </AuthContextProvider>  \n    , document.getElementById('root'));"],"sourceRoot":""}